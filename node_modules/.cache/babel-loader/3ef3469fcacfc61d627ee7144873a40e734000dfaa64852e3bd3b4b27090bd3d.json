{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import AdminNavigation from\"../AdminNavigation/AdminNavigation\";import'./Contacts.scss';import{RiDeleteBinLine}from'react-icons/ri';import{FcEmptyFilter}from'react-icons/fc';import Axios from'axios';import ip from\"../../../ip-config/ip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Contacts=function Contacts(){var win=sessionStorage;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),contacts=_useState4[0],setContacts=_useState4[1];useEffect(function(){var fetchContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log('jajajja');_context.next=3;return Axios.get(\"https://\".concat(ip,\"/api/admin/contact\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))}}).then(function(response){if(response.data.success===1){setContacts(response.data.data);setMsg();}else if(response.data.success===0){setMsg(response.data.message);}console.log('response:',response.data);});case 3:case\"end\":return _context.stop();}},_callee);}));return function fetchContacts(){return _ref.apply(this,arguments);};}();fetchContacts();console.log(contacts);});var deleteContact=function deleteContact(delId){// eslint-disable-next-line no-restricted-globals\nvar shouldDelete=confirm('Do You Want to Delete This Contact Details?');if(shouldDelete){Axios.delete(\"https://\".concat(ip,\"/api/admin/contact\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))},data:{contact_id:delId}}).then(function(response){if(response.data.success===1){window.location.href='/contacts';// navigate('/admin-blogs')\n}});}};var clearAll=function clearAll(){// eslint-disable-next-line no-restricted-globals\nvar shouldClear=confirm('Do You Want to Clear All Contact Details?');if(shouldClear){Axios.delete(\"https://\".concat(ip,\"/api/admin/clearc\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))}}).then(function(response){console.log(response.data);if(response.data.success===0){window.location.href='/contacts';}});}};return msg===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminNavigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clear-button\",onClick:function onClick(){return clearAll();},children:[/*#__PURE__*/_jsx(RiDeleteBinLine,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts?contacts.map(function(contact){return/*#__PURE__*/ (// <div className=\"blog mainBlog\">\n//     <div className=\"img\">\n//         <img src={`https://192.168.206.193/blog/${blog.blog_image}`} alt=\"\"/>\n//     </div>\n//     <h4>{blog.title} - {blog.writer_name}hahahah</h4>\n// </div>\n_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact.name}),/*#__PURE__*/_jsx(\"td\",{children:contact.email}),/*#__PURE__*/_jsx(\"td\",{children:contact.message}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(RiDeleteBinLine,{className:\"delete\",onClick:function onClick(){return deleteContact(contact.contact_id);}})})]}));}):''})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminNavigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clear-button\",onClick:function onClick(){return clearAll();},children:[/*#__PURE__*/_jsx(RiDeleteBinLine,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"empty\",children:[/*#__PURE__*/_jsx(FcEmptyFilter,{}),msg]})]})]});};export default Contacts;","map":{"version":3,"names":["React","useState","useEffect","AdminNavigation","RiDeleteBinLine","FcEmptyFilter","Axios","ip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Contacts","win","sessionStorage","_useState","_useState2","_slicedToArray","msg","setMsg","_useState3","_useState4","contacts","setContacts","fetchContacts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","console","log","get","concat","headers","Authorization","getItem","then","response","data","success","message","stop","apply","arguments","deleteContact","delId","shouldDelete","confirm","delete","contact_id","window","location","href","clearAll","shouldClear","children","className","onClick","map","contact","name","email"],"sources":["C:/Users/shaky/OneDrive/Desktop/bic-clone-1/src/components/AdminPage/Contacts/Contacts.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AdminNavigation from \"../AdminNavigation/AdminNavigation\";\r\nimport './Contacts.scss';\r\n\r\nimport { RiDeleteBinLine } from 'react-icons/ri'\r\nimport { FcEmptyFilter } from 'react-icons/fc'\r\nimport Axios from 'axios';\r\nimport ip from \"../../../ip-config/ip\";\r\n\r\nconst Contacts = () => {\r\n    const win = sessionStorage;\r\n    const [msg, setMsg] = useState(null)\r\n\r\n    const [contacts, setContacts] = useState([])\r\n    useEffect(() => {\r\n        const fetchContacts = async () => {\r\n            console.log('jajajja')\r\n            await Axios.get(`https://${ip}/api/admin/contact`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n            }).then((response) => {\r\n                if (response.data.success === 1) {\r\n                    setContacts(response.data.data);\r\n                    setMsg()\r\n                }\r\n                else if (response.data.success === 0) {\r\n                    setMsg(response.data.message);\r\n                }\r\n                console.log('response:', response.data)\r\n            });\r\n        }\r\n        fetchContacts();\r\n        console.log(contacts)\r\n    });\r\n\r\n    const deleteContact = (delId) => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const shouldDelete = confirm('Do You Want to Delete This Contact Details?');\r\n\r\n        if(shouldDelete){\r\n            Axios.delete(`https://${ip}/api/admin/contact`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n                data: {\r\n                    contact_id: delId\r\n                }\r\n            }).then((response) => {\r\n                if(response.data.success === 1){\r\n                    window.location.href = '/contacts'\r\n                    // navigate('/admin-blogs')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const clearAll = () => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const shouldClear = confirm('Do You Want to Clear All Contact Details?');\r\n\r\n        if(shouldClear){\r\n            Axios.delete(`https://${ip}/api/admin/clearc`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n            }).then((response) => {\r\n                console.log(response.data)\r\n                if(response.data.success === 0){\r\n                    window.location.href = '/contacts'\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return msg===null?\r\n    (\r\n        (\r\n            <>\r\n                <AdminNavigation />\r\n                <div className=\"contacts-table\">\r\n                    <div className=\"clear-button\" onClick={() => clearAll()}><RiDeleteBinLine /><p>Clear All</p></div>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Email</th>\r\n                                <th>Message</th>\r\n                                <th>Edit</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {contacts\r\n                                ?\r\n                                contacts.map((contact) => {\r\n                                    return (\r\n                                        // <div className=\"blog mainBlog\">\r\n                                        //     <div className=\"img\">\r\n                                        //         <img src={`https://192.168.206.193/blog/${blog.blog_image}`} alt=\"\"/>\r\n                                        //     </div>\r\n                                        //     <h4>{blog.title} - {blog.writer_name}hahahah</h4>\r\n                                        // </div>\r\n                                        <tr>\r\n                                            <td>{contact.name}</td>\r\n                                            <td>{contact.email}</td>\r\n                                            <td>{contact.message}</td>\r\n                                            <td><RiDeleteBinLine className=\"delete\" onClick={() => deleteContact(contact.contact_id)} /></td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n    \r\n                                : ''\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </>\r\n        )\r\n    )\r\n    :\r\n    (\r\n        <>\r\n                <AdminNavigation />\r\n                <div className=\"contacts-table\">\r\n                    <div className=\"clear-button\" onClick={() => clearAll()}><RiDeleteBinLine /><p>Clear All</p></div>\r\n                    <div className=\"empty\">\r\n                        <FcEmptyFilter />\r\n                        {msg}\r\n                    </div>\r\n                </div>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Contacts;"],"mappings":"mZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAChE,MAAO,iBAAiB,CAExB,OAASC,eAAe,KAAQ,gBAAgB,CAChD,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,EAAE,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEvC,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB,GAAM,CAAAC,GAAG,CAAGC,cAAc,CAC1B,IAAAC,SAAA,CAAsBhB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,GAAG,CAAAF,UAAA,IAAEG,MAAM,CAAAH,UAAA,IAElB,IAAAI,UAAA,CAAgCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5BrB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAwB,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClBC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SAChB,CAAA9B,KAAK,CAACiC,GAAG,YAAAC,MAAA,CAAYjC,EAAE,uBAAsB,CAC/CkC,OAAO,CAAE,CACLC,aAAa,WAAAF,MAAA,CAAYzB,GAAG,CAAC4B,OAAO,CAAC,OAAO,CAAC,CACjD,CACJ,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAK,CAAC,CAAE,CAC7BtB,WAAW,CAACoB,QAAQ,CAACC,IAAI,CAACA,IAAI,CAAC,CAC/BzB,MAAM,CAAC,CAAC,CACZ,CAAC,IACI,IAAIwB,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAK,CAAC,CAAE,CAClC1B,MAAM,CAACwB,QAAQ,CAACC,IAAI,CAACE,OAAO,CAAC,CACjC,CACAX,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEO,QAAQ,CAACC,IAAI,CAAC,CAC3C,CAAC,CAAC,yBAAAZ,QAAA,CAAAe,IAAA,MAAAlB,OAAA,GACL,kBAhBK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAgBlB,CACDzB,aAAa,CAAC,CAAC,CACfW,OAAO,CAACC,GAAG,CAACd,QAAQ,CAAC,CACzB,CAAC,CAAC,CAEF,GAAM,CAAA4B,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,KAAK,CAAK,CAC7B;AACA,GAAM,CAAAC,YAAY,CAAGC,OAAO,CAAC,6CAA6C,CAAC,CAE3E,GAAGD,YAAY,CAAC,CACZhD,KAAK,CAACkD,MAAM,YAAAhB,MAAA,CAAYjC,EAAE,uBAAsB,CAC5CkC,OAAO,CAAE,CACLC,aAAa,WAAAF,MAAA,CAAYzB,GAAG,CAAC4B,OAAO,CAAC,OAAO,CAAC,CACjD,CAAC,CACDG,IAAI,CAAE,CACFW,UAAU,CAAEJ,KAChB,CACJ,CAAC,CAAC,CAACT,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAGA,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAK,CAAC,CAAC,CAC3BW,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,WAAW,CAClC;AACJ,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB;AACA,GAAM,CAAAC,WAAW,CAAGP,OAAO,CAAC,2CAA2C,CAAC,CAExE,GAAGO,WAAW,CAAC,CACXxD,KAAK,CAACkD,MAAM,YAAAhB,MAAA,CAAYjC,EAAE,sBAAqB,CAC3CkC,OAAO,CAAE,CACLC,aAAa,WAAAF,MAAA,CAAYzB,GAAG,CAAC4B,OAAO,CAAC,OAAO,CAAC,CACjD,CACJ,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBR,OAAO,CAACC,GAAG,CAACO,QAAQ,CAACC,IAAI,CAAC,CAC1B,GAAGD,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAK,CAAC,CAAC,CAC3BW,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,WAAW,CACtC,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CACD,MAAO,CAAAxC,GAAG,GAAG,IAAI,cAGTT,KAAA,CAAAE,SAAA,EAAAkD,QAAA,eACItD,IAAA,CAACN,eAAe,GAAE,CAAC,cACnBQ,KAAA,QAAKqD,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3BpD,KAAA,QAAKqD,SAAS,CAAC,cAAc,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAJ,QAAQ,CAAC,CAAC,EAAC,CAAAE,QAAA,eAACtD,IAAA,CAACL,eAAe,GAAE,CAAC,cAAAK,IAAA,MAAAsD,QAAA,CAAG,WAAS,CAAG,CAAC,EAAK,CAAC,cAClGpD,KAAA,UAAAoD,QAAA,eACItD,IAAA,UAAAsD,QAAA,cACIpD,KAAA,OAAAoD,QAAA,eACItD,IAAA,OAAAsD,QAAA,CAAI,MAAI,CAAI,CAAC,cACbtD,IAAA,OAAAsD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdtD,IAAA,OAAAsD,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBtD,IAAA,OAAAsD,QAAA,CAAI,MAAI,CAAI,CAAC,EACb,CAAC,CACF,CAAC,cACRtD,IAAA,UAAAsD,QAAA,CACKvC,QAAQ,CAELA,QAAQ,CAAC0C,GAAG,CAAC,SAACC,OAAO,CAAK,CACtB,oBACI;AACA;AACA;AACA;AACA;AACA;AACAxD,KAAA,OAAAoD,QAAA,eACItD,IAAA,OAAAsD,QAAA,CAAKI,OAAO,CAACC,IAAI,CAAK,CAAC,cACvB3D,IAAA,OAAAsD,QAAA,CAAKI,OAAO,CAACE,KAAK,CAAK,CAAC,cACxB5D,IAAA,OAAAsD,QAAA,CAAKI,OAAO,CAACnB,OAAO,CAAK,CAAC,cAC1BvC,IAAA,OAAAsD,QAAA,cAAItD,IAAA,CAACL,eAAe,EAAC4D,SAAS,CAAC,QAAQ,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAb,aAAa,CAACe,OAAO,CAACV,UAAU,CAAC,EAAC,CAAE,CAAC,CAAI,CAAC,EACjG,CAAC,EAEb,CAAC,CAAC,CAEA,EAAE,CAEL,CAAC,EACL,CAAC,EACP,CAAC,EACR,CAAC,cAKP9C,KAAA,CAAAE,SAAA,EAAAkD,QAAA,eACQtD,IAAA,CAACN,eAAe,GAAE,CAAC,cACnBQ,KAAA,QAAKqD,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3BpD,KAAA,QAAKqD,SAAS,CAAC,cAAc,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAJ,QAAQ,CAAC,CAAC,EAAC,CAAAE,QAAA,eAACtD,IAAA,CAACL,eAAe,GAAE,CAAC,cAAAK,IAAA,MAAAsD,QAAA,CAAG,WAAS,CAAG,CAAC,EAAK,CAAC,cAClGpD,KAAA,QAAKqD,SAAS,CAAC,OAAO,CAAAD,QAAA,eAClBtD,IAAA,CAACJ,aAAa,GAAE,CAAC,CAChBe,GAAG,EACH,CAAC,EACL,CAAC,EACR,CACT,CACL,CAAC,CAED,cAAe,CAAAN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}