{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shaky/OneDrive/Desktop/bic-clone-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import AdminNavigation from\"../AdminNavigation/AdminNavigation\";import'./Registrations.scss';import{FcEmptyFilter}from'react-icons/fc';import{RiDeleteBinLine}from'react-icons/ri';import Axios from'axios';import ip from\"../../../ip-config/ip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Registrations=function Registrations(){var win=sessionStorage;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),registrations=_useState4[0],setRegistrations=_useState4[1];useEffect(function(){var fetchRegistrations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"https://\".concat(ip,\"/api/admin/enquiry\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))}}).then(function(response){if(response.data.success===1){setRegistrations(response.data.data);setMsg();}else if(response.data.success===0){setMsg(response.data.message);}});case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchRegistrations(){return _ref.apply(this,arguments);};}();fetchRegistrations();});var deleteRegistration=function deleteRegistration(delId){// eslint-disable-next-line no-restricted-globals\nvar shouldDelete=confirm('Do You Want to Delete This Registration Details?');if(shouldDelete){Axios.delete(\"https://\".concat(ip,\"/api/admin/enquiry\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))},data:{enquire_id:delId}}).then(function(response){if(response.data.success===1){window.location.href='/registrations';// navigate('/admin-blogs')\n}});}};var clearAll=function clearAll(){// eslint-disable-next-line no-restricted-globals\nvar shouldClear=confirm('Do You Want to Clear All Registration Details?');if(shouldClear){Axios.delete(\"https://\".concat(ip,\"/api/admin/cleare\"),{headers:{Authorization:\"Bearer \".concat(win.getItem('token'))}}).then(function(response){console.log(response.data);if(response.data.success===0){window.location.href='/registrations';}});}};return msg===null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminNavigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clear-button\",onClick:function onClick(){return clearAll();},children:[/*#__PURE__*/_jsx(RiDeleteBinLine,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sector\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Referal\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:registrations?registrations.map(function(registration){return/*#__PURE__*/ (// <div className=\"blog mainBlog\">\n//     <div className=\"img\">\n//         <img src={`https://192.168.206.193/blog/${blog.blog_image}`} alt=\"\"/>\n//     </div>\n//     <h4>{blog.title} - {blog.writer_name}hahahah</h4>\n// </div>\n_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:registration.name}),/*#__PURE__*/_jsx(\"td\",{children:registration.phone}),/*#__PURE__*/_jsx(\"td\",{children:registration.email}),/*#__PURE__*/_jsx(\"td\",{children:registration.sector}),/*#__PURE__*/_jsx(\"td\",{children:registration.referral}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(RiDeleteBinLine,{className:\"delete\",onClick:function onClick(){return deleteRegistration(registration.enquire_id);}})})]}));}):''})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminNavigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contacts-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"clear-button\",onClick:function onClick(){return clearAll();},children:[/*#__PURE__*/_jsx(RiDeleteBinLine,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Clear All\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"empty\",children:[/*#__PURE__*/_jsx(FcEmptyFilter,{}),msg]})]})]});};export default Registrations;","map":{"version":3,"names":["React","useState","useEffect","AdminNavigation","FcEmptyFilter","RiDeleteBinLine","Axios","ip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Registrations","win","sessionStorage","_useState","_useState2","_slicedToArray","msg","setMsg","_useState3","_useState4","registrations","setRegistrations","fetchRegistrations","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","concat","headers","Authorization","getItem","then","response","data","success","message","stop","apply","arguments","deleteRegistration","delId","shouldDelete","confirm","delete","enquire_id","window","location","href","clearAll","shouldClear","console","log","children","className","onClick","map","registration","name","phone","email","sector","referral"],"sources":["C:/Users/shaky/OneDrive/Desktop/bic-clone-1/src/components/AdminPage/Registrations/Registrations.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AdminNavigation from \"../AdminNavigation/AdminNavigation\";\r\nimport './Registrations.scss';\r\nimport { FcEmptyFilter } from 'react-icons/fc'\r\n\r\n\r\nimport { RiDeleteBinLine } from 'react-icons/ri'\r\nimport Axios from 'axios';\r\nimport ip from \"../../../ip-config/ip\";\r\n\r\nconst Registrations = () => {\r\n    const win = sessionStorage;\r\n    const [msg, setMsg] = useState(null)\r\n\r\n\r\n    const [registrations, setRegistrations] = useState([])\r\n    useEffect(() => {\r\n        const fetchRegistrations = async () => {\r\n            await Axios.get(`https://${ip}/api/admin/enquiry`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n            }).then((response) => {\r\n                if (response.data.success === 1) {\r\n                    setRegistrations(response.data.data);\r\n                    setMsg()\r\n                }\r\n                else if (response.data.success === 0) {\r\n                    setMsg(response.data.message);\r\n                }\r\n            });\r\n        }\r\n        fetchRegistrations();\r\n    });\r\n\r\n    const deleteRegistration = (delId) => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const shouldDelete = confirm('Do You Want to Delete This Registration Details?');\r\n\r\n        if(shouldDelete){\r\n            Axios.delete(`https://${ip}/api/admin/enquiry`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n                data: {\r\n                    enquire_id: delId\r\n                }\r\n            }).then((response) => {\r\n                if(response.data.success === 1){\r\n                    window.location.href = '/registrations'\r\n                    // navigate('/admin-blogs')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const clearAll = () => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const shouldClear = confirm('Do You Want to Clear All Registration Details?');\r\n\r\n        if(shouldClear){\r\n            Axios.delete(`https://${ip}/api/admin/cleare`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${win.getItem('token')}`\r\n                },\r\n            }).then((response) => {\r\n                console.log(response.data)\r\n                if(response.data.success === 0){\r\n                    window.location.href = '/registrations'\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return msg===null?\r\n    (\r\n        (\r\n            <>\r\n                <AdminNavigation />\r\n                <div className=\"contacts-table\">\r\n                    <div className=\"clear-button\" onClick={() => clearAll()}><RiDeleteBinLine /><p>Clear All</p></div>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Phone Number</th>\r\n                                <th>Email Address</th>\r\n                                <th>Sector</th>\r\n                                <th>Referal</th>\r\n                                <th>Edit</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {registrations\r\n                                ?\r\n                                registrations.map((registration) => {\r\n                                    return (\r\n                                        // <div className=\"blog mainBlog\">\r\n                                        //     <div className=\"img\">\r\n                                        //         <img src={`https://192.168.206.193/blog/${blog.blog_image}`} alt=\"\"/>\r\n                                        //     </div>\r\n                                        //     <h4>{blog.title} - {blog.writer_name}hahahah</h4>\r\n                                        // </div>\r\n                                        <tr>\r\n                                            <td>{registration.name}</td>\r\n                                            <td>{registration.phone}</td>\r\n                                            <td>{registration.email}</td>\r\n                                            <td>{registration.sector}</td>\r\n                                            <td>{registration.referral}</td>\r\n                                            <td><RiDeleteBinLine className=\"delete\" onClick={() => deleteRegistration(registration.enquire_id)} /></td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n    \r\n                                : ''\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </>\r\n        )\r\n    )\r\n    :\r\n    (\r\n        <>\r\n                <AdminNavigation />\r\n                <div className=\"contacts-table\">\r\n                    <div className=\"clear-button\" onClick={() => clearAll()}><RiDeleteBinLine /><p>Clear All</p></div>\r\n                    <div className=\"empty\">\r\n                        <FcEmptyFilter />\r\n                        {msg}\r\n                    </div>\r\n                </div>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Registrations;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}